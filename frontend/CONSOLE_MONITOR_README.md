# 控制台监控工具

这些工具用于监控和调试前端应用的控制台输出，特别适用于调试同步滚动等复杂交互功能。

## 文件说明

### 1. `console-monitor.html`
- **用途**: 基于HTML的控制台监控界面
- **特点**: 简单易用，无需额外依赖
- **使用方法**: 
  ```bash
  # 在浏览器中打开
  start console-monitor.html
  # 或直接双击文件
  ```
- **功能**:
  - 提供友好的监控界面
  - 实时显示日志
  - 支持日志过滤和清理
  - 自动滚动控制

### 2. `console-monitor.js`
- **用途**: 基于Playwright的自动化控制台监控
- **特点**: 程序化监控，适合长时间运行
- **使用方法**:
  ```bash
  npm run console-monitor
  ```
- **功能**:
  - 自动打开浏览器
  - 实时捕获控制台输出
  - 支持错误监控
  - 命令行输出

### 3. `tests/console-monitor.spec.ts`
- **用途**: Playwright测试脚本
- **特点**: 集成在测试框架中
- **使用方法**:
  ```bash
  # 有界面模式
  npm run test:console
  
  # UI模式
  npm run test:console-ui
  ```
- **功能**:
  - 测试环境下的控制台监控
  - 支持自动化测试集成
  - 详细的错误报告

### 4. `playwright.config.ts`
- **用途**: Playwright配置文件
- **功能**: 配置测试环境和浏览器设置

## 使用场景

### 调试同步滚动功能
1. 启动开发服务器: `npm run dev`
2. 打开监控工具（选择其中一种方式）:
   - 简单监控: 打开 `console-monitor.html`
   - 自动监控: 运行 `npm run console-monitor`
   - 测试模式: 运行 `npm run test:console`
3. 在应用中进行滚动操作
4. 观察控制台输出，分析同步行为

### 调试等待效果
1. 使用监控工具观察异步操作的日志输出
2. 检查定时器和Promise的执行顺序
3. 分析事件触发的时机和频率

## 注意事项

1. **端口配置**: 确保应用运行在 `http://localhost:3002`
2. **浏览器兼容性**: 推荐使用Chrome浏览器
3. **性能影响**: 长时间监控可能影响应用性能
4. **日志过滤**: 可以根据需要过滤特定类型的日志

## 扩展功能

可以根据需要扩展以下功能:
- WebSocket实时日志传输
- 日志持久化存储
- 多标签页监控
- 自定义过滤规则
- 日志导出功能

## 故障排除

### 常见问题
1. **无法连接到应用**: 检查应用是否在正确端口运行
2. **Playwright错误**: 运行 `npx playwright install` 安装浏览器
3. **权限问题**: 确保有足够权限访问文件和网络

### 调试技巧
1. 检查网络连接状态
2. 查看浏览器开发者工具
3. 检查控制台错误信息
4. 验证应用路由配置
