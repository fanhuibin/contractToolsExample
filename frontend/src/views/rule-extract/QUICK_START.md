# 快速开始指南

## 🚀 5分钟上手规则抽取

### 步骤 1: 访问新模块

打开浏览器，访问：
```
http://localhost:5173/rule-extract
```

你会看到规则抽取主页面。

### 步骤 2: 创建第一个模板

1. 点击右上角 **"模板管理"** 按钮
2. 点击 **"新建模板"**
3. 填写信息：
   - 模板名称：`采购合同`
   - 模板编号：`purchase_contract`
   - 描述：`采购合同信息提取模板`
   - 状态：`草稿`
4. 点击 **"确定"**

### 步骤 3: 设计模板（添加字段）

1. 在模板列表中，找到刚创建的模板
2. 点击 **"设计"** 按钮
3. 点击 **"新增字段"**
4. 配置第一个字段：

   **字段1：合同名称**
   - 字段名称：`合同名称`
   - 字段编码：`contract_name`
   - 字段类型：`string`
   - 必填：`开启`
   
   **规则配置：**
   - 规则类型：`关键词锚点`
   - 锚点关键词：`合同名称`
   - 提取方向：`之后 (after)`
   - 提取方法：`正则表达式`
   - 正则表达式：点击 **"中文"** 按钮（自动填入 `[\\u4e00-\\u9fa5]+`）
   - 最大距离：`200`
   
5. 点击右侧 **"开始测试"** 进行测试：
   ```
   合同名称：办公用品采购合同
   ```
   应该能提取出：`办公用品采购合同`

6. 点击 **"保存"**

### 步骤 4: 添加更多字段

使用相同方法添加更多字段：

**字段2：合同金额**
- 字段名称：`合同金额`
- 字段编码：`contract_amount`
- 字段类型：`amount`
- 规则类型：`关键词锚点`
- 锚点关键词：`合同金额`
- 提取方向：`之后`
- 正则表达式：点击 **"金额"** 按钮

**字段3：签订日期**
- 字段名称：`签订日期`
- 字段编码：`sign_date`
- 字段类型：`date`
- 规则类型：`关键词锚点`
- 锚点关键词：`签订日期`
- 提取方向：`之后`
- 正则表达式：点击 **"日期"** 按钮

### 步骤 5: 保存模板

1. 添加完所有字段后
2. 点击顶部 **"保存模板"** 按钮
3. 等待保存成功提示
4. 点击 **"返回"**

### 步骤 6: 启用模板

1. 在模板列表中找到你的模板
2. 点击 **"编辑"**
3. 将状态改为 **"启用"**
4. 点击 **"确定"**

### 步骤 7: 执行抽取

1. 点击 **"返回"** 或直接访问 `/rule-extract`
2. 上传一个PDF文件（拖拽或点击上传）
3. 在 **"选择模板"** 下拉框中选择刚才创建的模板
4. 点击 **"开始抽取"**
5. 等待进度完成
6. 点击 **"查看详细结果"**

## 🎯 常见场景

### 场景1：提取简单文本

**使用规则**：关键词锚点 + 正则表达式

```
锚点关键词：甲方
提取方向：之后
正则表达式：[\\u4e00-\\u9fa5]+  (中文)
```

**适用于**：
- 姓名
- 公司名称
- 地址
- 简单文本字段

### 场景2：提取数字/金额

**使用规则**：关键词锚点 + 数字正则

```
锚点关键词：金额
提取方向：之后
正则表达式：\\d{1,3}(,\\d{3})*(\\.\\d{1,2})?  (金额)
```

**适用于**：
- 金额
- 数量
- 编号

### 场景3：提取日期

**使用规则**：关键词锚点 + 日期正则

```
锚点关键词：日期
提取方向：之后
正则表达式：\\d{4}-\\d{1,2}-\\d{1,2}  (日期)
```

**适用于**：
- 签订日期
- 有效期
- 截止日期

### 场景4：提取多行内容

**使用规则**：上下文边界

```
开始边界：合同内容：
结束边界：甲方（盖章）
多行匹配：开启
```

**适用于**：
- 合同条款
- 备注说明
- 大段文本

### 场景5：提取表格数据

**使用规则**：表格抽取

```
提取模式：整表
表头特征：商品名称|数量|单价
输出格式：JSON
```

**适用于**：
- 商品清单
- 费用明细
- 任何表格数据

## 💡 快速技巧

### 1. 使用快捷按钮

在配置正则表达式时，直接点击常用正则按钮：
- **整数** - 匹配整数
- **数字** - 匹配小数
- **金额** - 匹配带千分位的金额
- **日期** - 匹配 YYYY-MM-DD 格式
- **中文** - 匹配中文字符

### 2. 测试驱动配置

1. 先准备测试文本
2. 边配置边测试
3. 看到正确结果再保存
4. 避免盲目保存

### 3. 使用批量测试

1. 配置完所有字段后
2. 点击 **"批量测试"**
3. 粘贴完整的合同文本
4. 一次性测试所有字段
5. 查看成功率

### 4. 复制模板

如果有相似的模板：
1. 找到已有模板
2. 点击 **"复制"**
3. 输入新名称
4. 修改需要调整的字段

### 5. 调试模式

遇到提取不正确时：
1. 打开 **"调试模式"**
2. 查看详细的调试信息
3. 了解匹配过程
4. 调整配置参数

## ⚠️ 常见问题

### Q1: 提取不到内容？

**检查**：
- 锚点关键词是否正确
- 正则表达式是否匹配
- 最大距离是否足够
- 多行匹配是否需要开启

### Q2: 提取到了多余的内容？

**解决**：
- 使用更精确的正则表达式
- 减小最大距离
- 使用上下文边界规则

### Q3: 表格提取失败？

**检查**：
- 表头特征是否准确
- PDF是否包含HTML表格
- 使用调试模式查看原因

### Q4: 批量测试失败较多？

**原因**：
- 可能是测试文本格式不同
- 规则配置不够通用
- 需要针对性调整

**建议**：
- 先用单字段测试
- 确保每个字段都能正确提取
- 再进行批量测试

## 📖 进阶学习

### 了解更多规则类型

查看 [FEATURE_SPECIFICATION.md](./FEATURE_SPECIFICATION.md) 了解：
- 4种规则类型的详细说明
- 所有配置参数的含义
- 高级使用技巧

### 查看组件文档

查看 [README.md](./README.md) 了解：
- 组件的技术实现
- 数据流设计
- 开发最佳实践

### 学习正则表达式

推荐资源：
- [正则表达式30分钟入门教程](https://deerchao.cn/tutorials/regex/regex.htm)
- [正则表达式在线测试](https://regex101.com/)

## 🎉 开始使用

现在你已经了解了基本使用方法，开始创建你的第一个模板吧！

```bash
# 1. 启动开发服务器
cd frontend
npm run dev

# 2. 访问页面
打开浏览器，访问: http://localhost:5173/rule-extract

# 3. 开始创建！
```

## 📞 需要帮助？

- 查看 [README.md](./README.md) - 详细文档
- 查看 [FEATURE_SPECIFICATION.md](./FEATURE_SPECIFICATION.md) - 功能规格
- 查看代码注释 - 实现细节

---

**祝你使用愉快！** 🚀

