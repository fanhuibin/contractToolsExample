# é›†æˆæ™ºèƒ½æ–‡æ¡£æ¯”å¯¹

## ğŸ“š æ¦‚è¿°

æ™ºèƒ½æ–‡æ¡£æ¯”å¯¹åŠŸèƒ½å¯ä»¥å¿«é€Ÿæ¯”å¯¹ä¸¤ä¸ª PDF æ–‡æ¡£çš„å·®å¼‚ï¼Œå¹¶ç”Ÿæˆé«˜äº®æ ‡æ³¨çš„æ¯”å¯¹æŠ¥å‘Šã€‚æœ¬æ–‡æ¡£ä»‹ç»å¦‚ä½•å°†æ­¤åŠŸèƒ½é›†æˆåˆ°ä½ çš„ç³»ç»Ÿä¸­ã€‚

> ğŸ’¡ **å…³äºç¤ºä¾‹ä»£ç **ï¼šæœ¬æ–‡æ¡£ä¸­çš„ä»£ç ç¤ºä¾‹é»˜è®¤åŸºäº **Java + Vue3** æŠ€æœ¯æ ˆï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬æ¨èçš„æŠ€æœ¯ç»„åˆã€‚ä½†è¯·æ³¨æ„ï¼Œ**æˆ‘ä»¬çš„ API æ˜¯è¯­è¨€æ— å…³çš„**ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»»ä½•è¯­è¨€ï¼ˆPythonã€PHPã€.NETã€Go ç­‰ï¼‰å’Œä»»ä½•å‰ç«¯æ¡†æ¶ï¼ˆReactã€Angular ç­‰ï¼‰è¿›è¡Œé›†æˆã€‚æˆ‘ä»¬æä¾› Java ç¤ºä¾‹ä»…ä½œä¸ºå‚è€ƒã€‚

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

- âœ… **æ™ºèƒ½å»æ°´å°**ï¼šè‡ªåŠ¨è¯†åˆ«å¹¶å»é™¤æ–‡æ¡£æ°´å°
- âœ… **é¡µçœ‰é¡µè„šè¿‡æ»¤**ï¼šè‡ªåŠ¨å¿½ç•¥é¡µçœ‰é¡µè„šåŒºåŸŸ
- âœ… **é«˜äº®æ ‡æ³¨**ï¼šå·®å¼‚éƒ¨åˆ†é«˜äº®æ˜¾ç¤º
- âœ… **å¯¼å‡ºæŠ¥å‘Š**ï¼šæ”¯æŒå¯¼å‡º PDF/Excel æ¯”å¯¹æŠ¥å‘Š
- âœ… **å®æ—¶è¿›åº¦**ï¼šæ˜¾ç¤ºæ¯”å¯¹è¿›åº¦å’Œé¢„ä¼°å‰©ä½™æ—¶é—´

## ğŸ“‹ æ¨èé›†æˆæ–¹æ¡ˆ

æˆ‘ä»¬æ¨èé‡‡ç”¨ä»¥ä¸‹é›†æˆæ–¹å¼ï¼š

### â­ æ¨èæ–¹æ¡ˆï¼šæ··åˆé›†æˆï¼ˆæœ€ä½³å®è·µï¼‰

1. **æäº¤æ¯”å¯¹ä»»åŠ¡**ï¼šä½¿ç”¨ API æäº¤
   - âœ… çµæ´»æ§åˆ¶ä¸šåŠ¡æµç¨‹
   - âœ… å¯æ‰¹é‡æäº¤ä»»åŠ¡
   
2. **æ˜¾ç¤ºæ¯”å¯¹è¿›åº¦å’Œç»“æœ**ï¼šä¸‰ç§æ–¹å¼ä»»é€‰
   - **æ–¹å¼A**ï¼šä½¿ç”¨æˆ‘ä»¬çš„å®Œæ•´ç•Œé¢ï¼ˆiframe åµŒå…¥ï¼‰
     - âœ… å¼€ç®±å³ç”¨
     - âœ… å®æ—¶è¿›åº¦æ˜¾ç¤º
     - âœ… é›¶å¼€å‘æˆæœ¬
   
   - **æ–¹å¼B**ï¼šä»…åµŒå…¥è¿›åº¦æ˜¾ç¤ºï¼ˆiframeï¼‰+ è‡ªå®šä¹‰ç»“æœå±•ç¤º
     - âœ… å¹³è¡¡çµæ´»æ€§å’Œæ•ˆç‡
     - âœ… èŠ‚çœè¿›åº¦è½®è¯¢å¼€å‘
   
   - **æ–¹å¼C**ï¼šå®Œå…¨è‡ªå®šä¹‰ UI
     - âœ… å®Œå…¨å®šåˆ¶åŒ–
     - âœ… æ·±åº¦é›†æˆåˆ°ç°æœ‰ç³»ç»Ÿ
     - âš ï¸ éœ€è¦è‡ªè¡Œå¤„ç†è¿›åº¦è½®è¯¢

### å…¶ä»–æ–¹æ¡ˆå¯¹æ¯”

| é›†æˆæ–¹å¼ | ä»»åŠ¡æäº¤ | è¿›åº¦/ç»“æœæ˜¾ç¤º | é€‚ç”¨åœºæ™¯ | æ¨èæŒ‡æ•° |
|---------|---------|-------------|---------|---------|
| **æ··åˆé›†æˆ** | API | iframe æˆ–è‡ªå®šä¹‰ | å¤§å¤šæ•°åœºæ™¯ | â­â­â­â­â­ |
| **å®Œå…¨ iframe** | iframe | iframe | å¿«é€Ÿé›†æˆ | â­â­â­â­ |
| **å®Œå…¨ API** | API | è‡ªå®šä¹‰ | æ·±åº¦å®šåˆ¶ | â­â­â­ |

---

## ğŸ“– é›†æˆæ­¥éª¤ï¼ˆæ¨èæ–¹æ¡ˆï¼‰

### ç¬¬ä¸€æ­¥ï¼šä½¿ç”¨ API æäº¤æ¯”å¯¹ä»»åŠ¡

#### å¿«é€Ÿç¤ºä¾‹

```javascript
// æäº¤æ¯”å¯¹ä»»åŠ¡
const formData = new FormData();
formData.append('oldFile', oldPdfFile);
formData.append('newFile', newPdfFile);
formData.append('ignoreHeaderFooter', 'true');

const response = await fetch('http://your-domain:8080/api/compare-pro/submit', {
  method: 'POST',
  body: formData
});

const result = await response.json();
if (result.success) {
  const taskId = result.data.taskId; // ç”¨äºåç»­æŸ¥è¯¢
  console.log('ä»»åŠ¡ID:', taskId);
}
```

> ğŸ“– **å®Œæ•´ API è¯´æ˜**ï¼šè¯¦ç»†çš„æ¥å£å‚æ•°ã€å“åº”æ ¼å¼ã€çŠ¶æ€ç ç­‰è¯·æŸ¥çœ‹ [æ™ºèƒ½æ–‡æ¡£æ¯”å¯¹ API æ–‡æ¡£](./æ™ºèƒ½åˆåŒæ¯”å¯¹-API-Documentation.md)

---

### ç¬¬äºŒæ­¥ï¼šé€‰æ‹©æ˜¾ç¤ºæ–¹å¼

#### æ–¹å¼Aï¼šåµŒå…¥å®Œæ•´ç•Œé¢

```html
<iframe 
  src="http://your-domain:3000/documents/compare"
  width="100%"
  height="900px"
  frameborder="0"
  style="border: 1px solid #dcdfe6; border-radius: 4px;"
></iframe>
```

ç”¨æˆ·å¯ä»¥åœ¨iframeä¸­å®Œæˆæ•´ä¸ªæ¯”å¯¹æµç¨‹ï¼šä¸Šä¼ æ–‡ä»¶ â†’ æŸ¥çœ‹è¿›åº¦ â†’ æŸ¥çœ‹ç»“æœã€‚

#### æ–¹å¼Bï¼šAPIæäº¤ + iframeæ˜¾ç¤ºè¿›åº¦

```javascript
// 1. é€šè¿‡APIæäº¤æ¯”å¯¹ä»»åŠ¡
const taskId = await submitCompareTask(oldFile, newFile);

// 2. ä½¿ç”¨iframeæ˜¾ç¤ºè¿›åº¦å’Œç»“æœ
const iframe = document.getElementById('compareFrame');
iframe.src = `http://your-domain:3000/documents/compare?taskId=${taskId}`;
```

```html
<iframe 
  id="compareFrame"
  width="100%"
  height="800px"
  frameborder="0"
></iframe>
```

#### æ–¹å¼Cï¼šå®Œå…¨è‡ªå®šä¹‰UIï¼ˆæ¨èè€æ‰‹ï¼‰

å¦‚æœä½ æƒ³å®Œå…¨è‡ªå®šä¹‰UIï¼Œéœ€è¦ï¼š

1. **æäº¤ä»»åŠ¡**ï¼šè°ƒç”¨ `/api/compare-pro/submit`
2. **è½®è¯¢è¿›åº¦**ï¼šå®šæ—¶è°ƒç”¨ `/api/compare-pro/status/{taskId}`
3. **è·å–ç»“æœ**ï¼šè°ƒç”¨ `/api/compare-pro/result/{taskId}`
4. **å¯¼å‡ºæŠ¥å‘Š**ï¼šè°ƒç”¨ `/api/compare-pro/export/pdf/{taskId}`

> ğŸ“– **å®Œæ•´å®ç°**ï¼šè¯¦ç»†çš„è½®è¯¢é€»è¾‘ã€é”™è¯¯å¤„ç†ç­‰è¯·å‚è€ƒ [æ™ºèƒ½æ–‡æ¡£æ¯”å¯¹ API æ–‡æ¡£](./æ™ºèƒ½åˆåŒæ¯”å¯¹-API-Documentation.md)

> âš ï¸ **æç¤º**ï¼šè‡ªå®šä¹‰UIéœ€è¦å¤„ç†è¿›åº¦è½®è¯¢ã€é”™è¯¯é‡è¯•ç­‰å¤æ‚é€»è¾‘ï¼Œæ¨èä½¿ç”¨ iframe æ–¹å¼ä»¥èŠ‚çœå¼€å‘æˆæœ¬ã€‚

---

## ğŸ¨ è‡ªå®šä¹‰å‰ç«¯ UIï¼ˆé‡ç‚¹æ¨èï¼‰

### ä¸ºä»€ä¹ˆè¦è‡ªå®šä¹‰UIï¼Ÿ

å¦‚æœä½ å¸Œæœ›ï¼š
- âœ… **å“ç‰Œç»Ÿä¸€**ï¼šä¸ç°æœ‰ç³»ç»Ÿé£æ ¼å®Œå…¨ä¸€è‡´
- âœ… **åŠŸèƒ½å®šåˆ¶**ï¼šåªä¿ç•™éœ€è¦çš„åŠŸèƒ½ï¼Œéšè—ä¸éœ€è¦çš„
- âœ… **æ·±åº¦é›†æˆ**ï¼šåµŒå…¥åˆ°ç°æœ‰ç³»ç»Ÿä¸­ï¼Œè€Œä¸æ˜¯ç‹¬ç«‹é¡µé¢
- âœ… **å®Œå…¨æ§åˆ¶**ï¼šä¿®æ”¹äº¤äº’æµç¨‹ã€å¸ƒå±€ã€æ ·å¼

é‚£ä¹ˆ**æˆ‘ä»¬æä¾›å®Œæ•´çš„å‰ç«¯æºç **ï¼Œè®©ä½ å¯ä»¥è‡ªç”±å®šåˆ¶ï¼

---

### ğŸ“¦ å‰ç«¯æºç è¯´æ˜

æˆ‘ä»¬ä¸ºå®¢æˆ·æä¾›ï¼š

1. **frontend å®Œæ•´æºç **ï¼šåŸºäº Vue 3 + TypeScript + Element Plus çš„ç°ä»£åŒ–å‰ç«¯
2. **æ¯”å¯¹åŠŸèƒ½é¡µé¢**ï¼š`src/views/documents/GPUOCRCompare.vue`
3. **å¯¼å‡ºåŠŸèƒ½æ¨¡å—**ï¼šç‹¬ç«‹çš„å¯¼å‡ºé€»è¾‘å’Œç»„ä»¶
4. **æ„å»ºé…ç½®**ï¼šVite æ„å»ºé…ç½®ï¼Œæ”¯æŒè‡ªå®šä¹‰æ‰“åŒ…

> ğŸ“ **è·å–æºç **ï¼šå‰ç«¯æºç ä¸ºç§æœ‰åŒ–äº¤ä»˜å†…å®¹ï¼Œè¯·è”ç³»é”€å”®å›¢é˜Ÿè·å–æˆæƒã€‚

### ğŸ› ï¸ å®šåˆ¶æ­¥éª¤

#### ç¬¬ä¸€æ­¥ï¼šå®šåˆ¶æ ·å¼

ä¿®æ”¹ `src/views/documents/GPUOCRCompare.vue`ï¼š

```vue
<style scoped>
/* 1. ä¿®æ”¹ä¸»é¢˜è‰²ä¸ºä½ çš„å“ç‰Œè‰² */
:root {
  --primary-color: #1890ff;     /* è“è‰²ç³» */
  --success-color: #52c41a;
  --warning-color: #faad14;
}

/* 2. è°ƒæ•´å¡ç‰‡æ ·å¼ */
.compare-container {
  max-width: 1400px;
  margin: 0 auto;
  padding: 24px;
}

.file-card {
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  transition: all 0.3s;
}

.file-card:hover {
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.12);
}

</style>
```

#### ç¬¬äºŒæ­¥ï¼šæ„å»ºå’Œéƒ¨ç½²

```bash
# å¼€å‘ç¯å¢ƒæµ‹è¯•
npm run dev

# ç”Ÿäº§ç¯å¢ƒæ„å»º
npm run build

# æ„å»ºäº§ç‰©åœ¨ dist/ ç›®å½•
```

**éƒ¨ç½²æ–¹å¼1ï¼šNginx ç‹¬ç«‹éƒ¨ç½²**

```nginx
server {
    listen 80;
    server_name your-domain.com;
    
    root /var/www/compare-ui/dist;
    index index.html;
    
    location / {
        try_files $uri $uri/ /index.html;
    }
    
    # API ä»£ç†ï¼ˆé¿å…è·¨åŸŸï¼Œéœ€è¦é…ç½®æˆ‘æ–¹åç«¯æœåŠ¡çš„åœ°å€ï¼‰
    location /api/ {
        proxy_pass http://backend:8080/api/;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

**éƒ¨ç½²æ–¹å¼2ï¼šæ›¿æ¢æœåŠ¡å™¨çš„éƒ¨ç½²çš„å‰ç«¯**

ä¸€èˆ¬çš„éƒ¨ç½²ç›®å½•æ˜¯ /docker/nginx/htmlç›®å½•ï¼Œå…·ä½“ä»¥å®‰è£…ä¸ºå‡†ã€‚

---

## â“ å¸¸è§é—®é¢˜

### Q1: æˆ‘åº”è¯¥é€‰æ‹©å“ªç§é›†æˆæ–¹å¼ï¼Ÿ

**A**: æ ¹æ®éœ€æ±‚é€‰æ‹©ï¼š
- **å¿«é€Ÿé›†æˆ**ï¼šç›´æ¥åµŒå…¥ iframeï¼ˆå®Œæ•´ç•Œé¢ï¼‰
- **å¹³è¡¡æ–¹æ¡ˆ**ï¼šAPI æäº¤ + iframe æ˜¾ç¤ºè¿›åº¦
- **æ·±åº¦å®šåˆ¶**ï¼šè·å–å‰ç«¯æºç ï¼Œè‡ªå®šä¹‰ UI

### Q2: å‰ç«¯æºç å¦‚ä½•è·å–ï¼Ÿ

**A**: 
- è”ç³»é”€å”®è·å–æˆæƒï¼Œä¼šæä¾›å‰ç«¯æºç 
- æ”¯æŒè‡ªç”±ä¿®æ”¹å’Œå®šåˆ¶

### Q3: å¦‚ä½•è‡ªå®šä¹‰æŠ¥å‘Šæ ·å¼ï¼Ÿ

**A**: 
- è·å–å‰ç«¯æºç ï¼Œä¿®æ”¹å¯¼å‡ºæ¨¡å—
- éƒ¨ç½²æ¨¡å—æœ‰è¯´æ˜æ–‡æ¡£å¦‚ä½•æ‰“åŒ…å’Œä½¿ç”¨
- å°†æ‰“åŒ…ä¹‹åçš„æ¨¡æ¿éƒ¨ç½²ï¼ˆé»˜è®¤è·¯å¾„æ˜¯/docker/server1/uploadPath/tempalteä¸‹ï¼‰

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚éœ€äº†è§£æ›´å¤šåŠŸèƒ½æˆ–æœ‰å®šåˆ¶éœ€æ±‚ï¼Œè¯·è”ç³»ï¼š

- ğŸ“§ å®˜æ–¹ç½‘ç«™ï¼š[https://zhaoxinms.com](https://zhaoxinms.com)
- ğŸ“¦ äº§å“ä»·æ ¼ï¼š[https://zhaoxinms.com/price](https://zhaoxinms.com/price)

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [æ™ºèƒ½æ–‡æ¡£æ¯”å¯¹ API æ–‡æ¡£](./æ™ºèƒ½åˆåŒæ¯”å¯¹-API-Documentation.md)
- [æ–‡æ¡£æ ¼å¼è½¬æ¢ API](./æ–‡æ¡£æ ¼å¼è½¬æ¢-APIæ–‡æ¡£.md)
- [API è®¾è®¡è§„èŒƒ](./APIè®¾è®¡æ–‡æ¡£.md)

