<template>
  <iframe :src="iframeUrl" class="result-iframe" />
</template>

<script setup>
import { computed } from 'vue'
import { useRoute } from 'vue-router'
import { ZHAOXIN_CONFIG } from '@/config'

const route = useRoute()
const taskId = computed(() => route.params.taskId)

// iframe URL - æ·»åŠ  ?embed=true éšè—è‚‡æ–°å‰ç«¯çš„ä¾§è¾¹æ å’Œå¤´éƒ¨
// æ³¨æ„ï¼šè‚‡æ–°å‰ç«¯ä½¿ç”¨ HTML5 History æ¨¡å¼ï¼Œä¸éœ€è¦ # ç¬¦å·
const iframeUrl = computed(() => 
  `${ZHAOXIN_CONFIG.frontendUrl}/gpu-ocr-compare/canvas-result/${taskId.value}?embed=true`
)

// è°ƒè¯•æ—¥å¿—
console.log('ğŸ“Š Result é¡µé¢ï¼ŒtaskId:', taskId.value)
console.log('ğŸŒ iframe URL:', iframeUrl.value)
</script>

<style scoped>
.result-iframe {
  width: 100%;
  height: 100vh;
  border: none;
  display: block;
}
</style>
