# è‚‡æ–°å·¥å…·é›† Demo é¡¹ç›®æ¶æ„è¯´æ˜

## ğŸ“ æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      HTTP API      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      HTTP API      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚                  â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚                 â”‚
â”‚   å‰ç«¯ Vue 3    â”‚                     â”‚  Demo åç«¯       â”‚                     â”‚   è‚‡æ–° SDK      â”‚
â”‚  (ç«¯å£ 3003)    â”‚                     â”‚  (ç«¯å£ 8091)     â”‚                     â”‚  (ç«¯å£ 8080)    â”‚
â”‚                 â”‚                     â”‚                  â”‚                     â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚                                          â”‚
      â”‚                                          â”‚
      â”‚                                          â–¼
      â”‚                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚                                  â”‚ æ–‡ä»¶å­˜å‚¨     â”‚
      â”‚                                  â”‚ (uploads/)   â”‚
      â”‚                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ ä¾§è¾¹æ å¯¼èˆª    â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ 1. æ–‡æ¡£æŠ½å–  â”‚
 â”‚ 2. åˆåŒåˆæˆ  â”‚
 â”‚ 3. æ–‡æ¡£è§£æ  â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ—‚ï¸ åç«¯æ¶æ„

### åŒ…ç»“æ„

```
com.zhaoxin.tools.demo/
â”œâ”€â”€ config/                      # é…ç½®ç±»
â”‚   â”œâ”€â”€ WebConfig.java           # Webé…ç½®ï¼ˆCORSç­‰ï¼‰
â”‚   â””â”€â”€ RestTemplateConfig.java  # HTTPå®¢æˆ·ç«¯é…ç½®
â”œâ”€â”€ controller/                  # æ§åˆ¶å™¨å±‚
â”‚   â”œâ”€â”€ ExtractController.java   # æ–‡æ¡£æŠ½å–æ§åˆ¶å™¨
â”‚   â”œâ”€â”€ ComposeController.java   # åˆåŒåˆæˆæ§åˆ¶å™¨
â”‚   â”œâ”€â”€ ParseController.java     # æ–‡æ¡£è§£ææ§åˆ¶å™¨
â”‚   â””â”€â”€ FileController.java      # æ–‡ä»¶ç®¡ç†æ§åˆ¶å™¨
â”œâ”€â”€ service/                     # æœåŠ¡å±‚
â”‚   â”œâ”€â”€ ZhaoxinApiClient.java    # SDK APIå®¢æˆ·ç«¯
â”‚   â””â”€â”€ FileStorageService.java  # æ–‡ä»¶å­˜å‚¨æœåŠ¡
â”œâ”€â”€ model/                       # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ request/                 # è¯·æ±‚æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ ExtractRequest.java
â”‚   â”‚   â”œâ”€â”€ ComposeRequest.java
â”‚   â”‚   â””â”€â”€ ParseRequest.java
â”‚   â”œâ”€â”€ response/                # å“åº”æ¨¡å‹
â”‚   â”‚   â””â”€â”€ ApiResponse.java
â”‚   â””â”€â”€ exception/               # å¼‚å¸¸ç±»
â”‚       â””â”€â”€ ApiException.java
â””â”€â”€ DemoApplication.java         # ä¸»åº”ç”¨ç±»
```

### æ ¸å¿ƒç±»è¯´æ˜

#### 1. ZhaoxinApiClient.java
- å°è£…å¯¹è‚‡æ–°SDKçš„æ‰€æœ‰APIè°ƒç”¨
- å¤„ç†HTTPè¯·æ±‚å’Œå“åº”
- ç»Ÿä¸€é”™è¯¯å¤„ç†

#### 2. FileStorageService.java
- æ–‡ä»¶ä¸Šä¼ å’Œå­˜å‚¨
- UUIDæ–‡ä»¶å‘½å
- æ–‡ä»¶è·¯å¾„ç®¡ç†

#### 3. ExtractController.java
- æ–‡æ¡£æŠ½å–åŠŸèƒ½çš„APIç«¯ç‚¹
- `/api/extract/upload` - ä¸Šä¼ å¹¶æŠ½å–
- `/api/extract/status/{taskId}` - æŸ¥è¯¢çŠ¶æ€
- `/api/extract/result/{taskId}` - è·å–ç»“æœ

## ğŸ¨ å‰ç«¯æ¶æ„

### ç›®å½•ç»“æ„

```
frontend/src/
â”œâ”€â”€ views/                      # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ Extract.vue             # æ™ºèƒ½æ–‡æ¡£æŠ½å–é¡µé¢
â”‚   â”œâ”€â”€ Compose.vue             # åˆåŒåˆæˆé¡µé¢
â”‚   â””â”€â”€ Parse.vue               # æ™ºèƒ½æ–‡æ¡£è§£æé¡µé¢
â”œâ”€â”€ components/                 # å…¬å…±ç»„ä»¶
â”‚   â”œâ”€â”€ Sidebar.vue             # ä¾§è¾¹æ å¯¼èˆª
â”‚   â”œâ”€â”€ FileUpload.vue          # æ–‡ä»¶ä¸Šä¼ ç»„ä»¶
â”‚   â””â”€â”€ TaskList.vue            # ä»»åŠ¡åˆ—è¡¨ç»„ä»¶
â”œâ”€â”€ api/                        # APIå®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ extract.js              # æ–‡æ¡£æŠ½å–API
â”‚   â”œâ”€â”€ compose.js              # åˆåŒåˆæˆAPI
â”‚   â”œâ”€â”€ parse.js                # æ–‡æ¡£è§£æAPI
â”‚   â””â”€â”€ file.js                 # æ–‡ä»¶API
â”œâ”€â”€ router/                     # è·¯ç”±é…ç½®
â”‚   â””â”€â”€ index.js
â”œâ”€â”€ utils/                      # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ request.js              # HTTPè¯·æ±‚å°è£…
â”œâ”€â”€ config.js                   # é…ç½®æ–‡ä»¶
â”œâ”€â”€ App.vue                     # æ ¹ç»„ä»¶
â””â”€â”€ main.js                     # å…¥å£æ–‡ä»¶
```

### æ ¸å¿ƒç»„ä»¶è¯´æ˜

#### 1. Sidebar.vue
- å·¦ä¾§å¯¼èˆªèœå•
- åŠŸèƒ½æ¨¡å—åˆ‡æ¢
- å½“å‰è·¯ç”±é«˜äº®

#### 2. Extract.vue
- æ–‡æ¡£ä¸Šä¼ åŒº
- æ¨¡æ¿é€‰æ‹©
- å®æ—¶è¿›åº¦æ˜¾ç¤º
- æŠ½å–ç»“æœå±•ç¤ºï¼ˆå›¾æ–‡å¯¹ç…§ï¼‰

## ğŸ”„ æ•°æ®æµ

### æ–‡æ¡£æŠ½å–æµç¨‹

```
1. ç”¨æˆ·ä¸Šä¼ PDF â†’ å‰ç«¯
2. å‰ç«¯ â†’ Demoåç«¯ (æ–‡ä»¶ä¸Šä¼ )
3. Demoåç«¯ä¿å­˜æ–‡ä»¶ (UUIDå‘½å)
4. Demoåç«¯ â†’ è‚‡æ–°SDK (æäº¤æŠ½å–ä»»åŠ¡)
5. è‚‡æ–°SDK â†’ Demoåç«¯ (è¿”å›taskId)
6. Demoåç«¯ â†’ å‰ç«¯ (è¿”å›taskId)
7. å‰ç«¯è½®è¯¢ä»»åŠ¡çŠ¶æ€
8. ä»»åŠ¡å®Œæˆåè·å–ç»“æœ
9. å±•ç¤ºæŠ½å–ç»“æœï¼ˆå­—æ®µ+ä½ç½®+ç½®ä¿¡åº¦ï¼‰
```

## ğŸ“Š API ç«¯ç‚¹æ˜ å°„

| åŠŸèƒ½ | Demoåç«¯ç«¯ç‚¹ | è‚‡æ–°SDKç«¯ç‚¹ |
|-----|-------------|-----------|
| **æ–‡æ¡£æŠ½å–** | | |
| ä¸Šä¼ æŠ½å– | POST `/api/extract/upload` | POST `/api/rule-extract/extract/upload` |
| æŸ¥è¯¢çŠ¶æ€ | GET `/api/extract/status/{taskId}` | GET `/api/rule-extract/extract/status/{taskId}` |
| è·å–ç»“æœ | GET `/api/extract/result/{taskId}` | GET `/api/rule-extract/extract/result/{taskId}` |
| å–æ¶ˆä»»åŠ¡ | POST `/api/extract/cancel/{taskId}` | POST `/api/rule-extract/extract/cancel/{taskId}` |
| **åˆåŒåˆæˆ** | | |
| æäº¤åˆæˆ | POST `/api/compose/submit` | POST `/api/contract-compose/compose` |
| æŸ¥è¯¢çŠ¶æ€ | GET `/api/compose/status/{taskId}` | GET `/api/contract-compose/status/{taskId}` |
| **æ–‡æ¡£è§£æ** | | |
| æäº¤è§£æ | POST `/api/parse/submit` | POST `/api/parse/submit` |
| æŸ¥è¯¢ç»“æœ | GET `/api/parse/result/{taskId}` | GET `/api/parse/result/{taskId}` |

## ğŸ¯ è®¾è®¡åŸåˆ™

1. **å•ä¸€èŒè´£**ï¼šæ¯ä¸ªç±»/ç»„ä»¶åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½
2. **é…ç½®åˆ†ç¦»**ï¼šæ‰€æœ‰é…ç½®é›†ä¸­ç®¡ç†
3. **é”™è¯¯å¤„ç†**ï¼šç»Ÿä¸€çš„é”™è¯¯å¤„ç†æœºåˆ¶
4. **å¯æ‰©å±•æ€§**ï¼šæ˜“äºæ·»åŠ æ–°åŠŸèƒ½æ¨¡å—
5. **ç”¨æˆ·ä½“éªŒ**ï¼šå®æ—¶åé¦ˆã€å‹å¥½æç¤º

## ğŸ“ é…ç½®é¡¹

### åç«¯é…ç½® (`application.yml`)
```yaml
zhaoxin:
  api:
    base-url: http://localhost:8080  # SDKåœ°å€
    timeout: 120000                  # è¶…æ—¶æ—¶é—´
```

### å‰ç«¯é…ç½® (`config.js`)
```javascript
export const ZHAOXIN_CONFIG = {
  apiBaseUrl: 'http://localhost:8080',
  demoBaseUrl: 'http://localhost:8091'
}
```

## ğŸ”’ å®‰å…¨è€ƒè™‘

1. **æ–‡ä»¶éªŒè¯**ï¼šæ£€æŸ¥æ–‡ä»¶ç±»å‹å’Œå¤§å°
2. **UUIDå‘½å**ï¼šé¿å…æ–‡ä»¶åå†²çªå’Œè·¯å¾„éå†
3. **CORSé…ç½®**ï¼šä»…å…è®¸ç‰¹å®šæºè®¿é—®
4. **é”™è¯¯ä¿¡æ¯**ï¼šä¸æš´éœ²æ•æ„Ÿä¿¡æ¯

## ğŸ“¦ éƒ¨ç½²

### å¼€å‘ç¯å¢ƒ
1. åç«¯ï¼š`mvn spring-boot:run`
2. å‰ç«¯ï¼š`npm run dev`

### ç”Ÿäº§ç¯å¢ƒ
1. åç«¯ï¼š`java -jar zhaoxin-tools-demo-backend-1.0.0.jar`
2. å‰ç«¯ï¼š`npm run build` â†’ éƒ¨ç½²distç›®å½•åˆ°nginx

---


