{
  "version": "1.0",
  "contractType": "purchase",
  "defaults": {"type": "string", "required": false, "normalize": ["trim"]},
  "fields": {
    "甲方公司名称": {"type": "string"},
    "乙方公司名称": {"type": "string"},
    "甲方通信地址": {"type": "string"},
    "乙方通信地址": {"type": "string"},
    "合同名称": {
      "type": "string",
      "required": true,
      "normalize": ["trim", {"regexReplace": ["(合同|合同书)$", ""]}],
      "promptHints": ["返回纯名称，不包含‘合同/合同书’字样"]
    },
    "合同编号": {"type": "string"},
    "合同总金额小写": {"type": "number", "normalize": ["trim", {"regexKeep": "[\\d\\.\\-]+"}], "min": 0},
    "币种": {"type": "string"},
    "合同总金额大写": {"type": "string"},
    "付款节点": {"type": "string"},
    "付款比例": {"type": "number", "range": [0, 100]},
    "付款金额（小写）": {"type": "number", "normalize": ["trim", {"regexKeep": "[\\d\\.\\-]+"}], "min": 0},
    "付款金额（大写）": {"type": "string"},
    "合同生效日期": {"type": "date", "normalize": [{"parseDate": ["yyyy-MM-dd", "yyyy/MM/dd", "yyyy年MM月dd日", "yyyy.MM.dd"]}], "outputFormat": "yyyy-MM-dd"},
    "合同终止日期": {"type": "date", "normalize": [{"parseDate": ["yyyy-MM-dd", "yyyy/MM/dd", "yyyy年MM月dd日", "yyyy.MM.dd"]}], "outputFormat": "yyyy-MM-dd"},
    "合同有效期": {"type": "string"},
    "交货单位": {"type": "string"},
    "交货地点": {"type": "string"},
    "交货时间": {"type": "date", "normalize": [{"parseDate": ["yyyy-MM-dd", "yyyy/MM/dd", "yyyy年MM月dd日", "yyyy.MM.dd"]}], "outputFormat": "yyyy-MM-dd"},
    "验收时间": {"type": "date", "normalize": [{"parseDate": ["yyyy-MM-dd", "yyyy/MM/dd", "yyyy年MM月dd日", "yyyy.MM.dd"]}], "outputFormat": "yyyy-MM-dd"},
    "运输方式": {"type": "string"},
    "运输费用": {"type": "number", "normalize": ["trim", {"regexKeep": "[\\d\\.\\-]+"}], "min": 0},
    "增值率税率": {"type": "number", "range": [0, 100]},
    "税额": {"type": "number", "normalize": ["trim", {"regexKeep": "[\\d\\.\\-]+"}], "min": 0},
    "发票类型": {"type": "string"},
    "服务期限": {"type": "string"},
    "保证金金额（小写）": {"type": "number", "normalize": ["trim", {"regexKeep": "[\\d\\.\\-]+"}], "min": 0},
    "保证金金额（大写）": {"type": "string"},
    "保证金比例": {"type": "number", "range": [0, 100]},
    "保证金归还节点": {"type": "string"},
    "争议仲裁地": {"type": "string"},
    "甲方纳税人识别号": {"type": "string"},
    "乙方纳税人识别号": {"type": "string"},
    "甲方注册地址": {"type": "string"},
    "乙方注册地址": {"type": "string"},
    "甲方登记电话": {"type": "string", "normalize": ["trim", {"regexKeep": "[0-9\\-\\+\\(\\) ]+"}]},
    "乙方登记电话": {"type": "string", "normalize": ["trim", {"regexKeep": "[0-9\\-\\+\\(\\) ]+"}]},
    "甲方开户行": {"type": "string"},
    "乙方开户行": {"type": "string"},
    "甲方银行账号名称": {"type": "string"},
    "乙方银行账号名称": {"type": "string"},
    "甲方银行账号": {"type": "string", "normalize": ["trim", {"regexKeep": "[0-9 ]+"}]},
    "乙方银行账号": {"type": "string", "normalize": ["trim", {"regexKeep": "[0-9 ]+"}]},
    "违约内容": {"type": "string"},
    "甲方邮政编码": {"type": "string", "normalize": ["trim", {"regexKeep": "[0-9]+"}]},
    "乙方邮政编码": {"type": "string", "normalize": ["trim", {"regexKeep": "[0-9]+"}]},
    "甲方法人": {"type": "string"},
    "乙方法人": {"type": "string"},
    "甲方业务联系人": {"type": "string"},
    "乙方业务联系人": {"type": "string"},
    "甲方业务联系人电话": {"type": "string", "normalize": ["trim", {"regexKeep": "[0-9\\-\\+\\(\\) ]+"}]},
    "甲方业务联系人邮箱": {"type": "string", "normalize": ["trim", "lowercase"], "pattern": "^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}$"},
    "乙方业务联系人电话": {"type": "string", "normalize": ["trim", {"regexKeep": "[0-9\\-\\+\\(\\) ]+"}]},
    "乙方业务联系人邮箱": {"type": "string", "normalize": ["trim", "lowercase"], "pattern": "^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}$"},
    "甲方签署日期": {"type": "date", "normalize": [{"parseDate": ["yyyy-MM-dd", "yyyy/MM/dd", "yyyy年MM月dd日", "yyyy.MM.dd"]}], "outputFormat": "yyyy-MM-dd"},
    "乙方签署日期": {"type": "date", "normalize": [{"parseDate": ["yyyy-MM-dd", "yyyy/MM/dd", "yyyy年MM月dd日", "yyyy.MM.dd"]}], "outputFormat": "yyyy-MM-dd"},
    "甲方法人或代表人是否签字": {"type": "boolean", "trueValues": ["是", "已签", "有", "true", "1"], "falseValues": ["否", "未签", "无", "false", "0"]},
    "乙方法人或代表人是否签字": {"type": "boolean", "trueValues": ["是", "已签", "有", "true", "1"], "falseValues": ["否", "未签", "无", "false", "0"]}
  },
  "prompt": {
    "global": [
      "你是合同信息抽取助手，只能返回有效 JSON，不要任何解释或多余文本。",
      "当无法确定字段值时，请返回 null。"
    ],
    "negative": [
      "禁止使用‘授权期限/永久授权’等表述推断合同期限。",
      "禁止输出除 JSON 以外的任何字符（如 Markdown、注释、自然语言描述）。"
    ],
    "fields": {
      "合同期限(天)": [
        "以‘合同生效日期/合同起始时间’为开始，以‘合同终止日期/合同截止日期’为结束，返回两者相差的整数天数。",
        "任一端缺失则返回 0。",
        "仅返回数字，不带单位。"
      ],
      "合同名称": [
        "若合同名称以‘合同/合同书’为后缀，请去掉该后缀，仅返回名称本体。",
        "保留名称中部出现的‘合同’字样（如‘合同管理系统’）。"
      ]
    },
    "format": [
      "严格输出 JSON，键使用中文字段名，值类型与字段定义一致。"
    ]
  }
}

